using System;
using System.Windows;
using Abt.Controls.SciChart.Numerics;
using Abt.Controls.SciChart.Visuals;
using Abt.Controls.SciChart.Visuals.Annotations;
using Abt.Controls.SciChart.Visuals.Axes;

namespace Abt.Controls.SciChart.Example.Examples.IWantTo.UsePaletteProvider
{
    public class AreaSelection
    {
        private IComparable _x1, _x2;

        public ISciChartSurface Surface
        { get; set; }

        public void SetSelectionRect(double x1, double width)
        {
            var xCalc = Surface.XAxis != null ? Surface.XAxis.GetCurrentCoordinateCalculator() : null;
           
            _x1 = xCalc.GetDataValue(x1);
            _x2 = xCalc.GetDataValue(x1 + width);
        }

        /// <summary>
        /// Checks whether current <see cref="AreaSelection"/> contains a point with x coordinate
        /// </summary>
        public bool Contains(double x)
        {
            return x.CompareTo(_x1) >= 0 && x.CompareTo(_x2) <= 0;
        }
    }
}
