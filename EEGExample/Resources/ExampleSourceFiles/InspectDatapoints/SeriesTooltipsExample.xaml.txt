<UserControl x:Class="Abt.Controls.SciChart.Example.Examples.IWantTo.InspectDatapoints.SeriesTooltipsExample"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:common="clr-namespace:Abt.Controls.SciChart.Example.Common"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:inspectDatapoints="clr-namespace:Abt.Controls.SciChart.Example.Examples.IWantTo.InspectDatapoints"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:s="http://schemas.abtsoftware.co.uk/scichart"
             d:DesignHeight="300"
             d:DesignWidth="300"
             mc:Ignorable="d">
    <Grid>
        <Grid.Resources>
            <inspectDatapoints:SeriesTooltipsViewModel x:Key="SeriesTooltipsViewModel" />
            <common:ColorToBrushConverter x:Key="colorToBrushConverter" />

            <Style TargetType="s:FastLineRenderableSeries">
                <Setter Property="SelectedSeriesStyle">
                    <Setter.Value>
                        <Style TargetType="s:FastLineRenderableSeries">
                            <Setter Property="StrokeThickness" Value="3" />
                        </Style>
                    </Setter.Value>
                </Setter>
            </Style>
        </Grid.Resources>

        <s:SciChartSurface Name="sciChartSurface"
                           DataContext="{StaticResource SeriesTooltipsViewModel}"
                           s:ThemeManager.Theme="ExpressionLight">

            <s:SciChartSurface.RenderableSeries>
                <s:FastLineRenderableSeries DataSeries="{Binding DataSeries1}" SeriesColor="Navy" />
                <s:FastLineRenderableSeries DataSeries="{Binding DataSeries2}" SeriesColor="Purple" />
            </s:SciChartSurface.RenderableSeries>

            <s:SciChartSurface.XAxis>
                <s:NumericAxis GrowBy="0.1, 0.1" />
            </s:SciChartSurface.XAxis>

            <s:SciChartSurface.YAxis>
                <s:NumericAxis AxisAlignment="Left" GrowBy="0.1, 0.1" />
            </s:SciChartSurface.YAxis>

            <s:SciChartSurface.Annotations>
                <s:HorizontalLineAnnotation HorizontalAlignment="Stretch"
                                            FontSize="12"
                                            IsEditable="True"
                                            LabelPlacement="Axis"
                                            LabelTextFormatting="0.00"
                                            ShowLabel="True"
                                            Stroke="#E50000"
                                            StrokeThickness="2"
                                            Y1="{Binding LowThreshold,
                                                         Mode=TwoWay}" />
                <s:HorizontalLineAnnotation HorizontalAlignment="Stretch"
                                            FontSize="12"
                                            IsEditable="True"
                                            LabelPlacement="Axis"
                                            LabelTextFormatting="0.00"
                                            ShowLabel="True"
                                            Stroke="#00D800"
                                            StrokeThickness="2"
                                            Y1="{Binding HighThreshold,
                                                         Mode=TwoWay}" />
            </s:SciChartSurface.Annotations>

            <s:SciChartSurface.ChartModifier>
                <s:ModifierGroup>
                    <s:RubberBandXyZoomModifier />
                    <s:ZoomExtentsModifier />
                    <s:CursorModifier />
                    <s:TooltipModifier ReceiveHandledEvents="True"
                                       TooltipLabelDataContextSelector="{Binding TooltipDataContext}"
                                       UseInterpolation="True">
                        <s:TooltipModifier.TooltipLabelTemplate>
                            <ControlTemplate TargetType="s:TemplatableControl">
                                <Border Background="{Binding SeriesColor,
                                                             Converter={StaticResource colorToBrushConverter}}"
                                        BorderBrush="Gray"
                                        BorderThickness="1"
                                        CornerRadius="5"
                                        Padding="5"
                                        Unloaded="OnTooltipUnloaded">
                                    <StackPanel>
                                        <TextBlock FontSize="12" Text="{Binding XValue, StringFormat=\{0:0.000\}}" />
                                        <TextBlock FontSize="12" Text="{Binding YValue, StringFormat=\{0:0.000\}}" />
                                    </StackPanel>
                                </Border>
                            </ControlTemplate>
                        </s:TooltipModifier.TooltipLabelTemplate>
                    </s:TooltipModifier>
                </s:ModifierGroup>
            </s:SciChartSurface.ChartModifier>

        </s:SciChartSurface>
    </Grid>
</UserControl>
